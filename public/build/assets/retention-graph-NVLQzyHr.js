const g=window.jQuery;(function(x){function A(r,e,l,n){var t=e.xaxis.options.mode=="categories",a=e.yaxis.options.mode=="categories";if(t||a){var o=n.format;if(!o){var s=e;if((o=[]).push({x:!0,number:!0,required:!0}),o.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var d=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);o.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:d}),s.bars.horizontal&&(delete o[o.length-1].y,o[o.length-1].x=!0)}n.format=o}for(var i=0;i<o.length;++i)o[i].x&&t&&(o[i].number=!1),o[i].y&&a&&(o[i].number=!1)}}function Q(r){var e=[];for(var l in r.categories){var n=r.categories[l];n>=r.min&&n<=r.max&&e.push([n,l])}return e.sort(function(t,a){return t[0]-a[0]}),e}function b(r,e,l){if(r[e].options.mode=="categories"){if(!r[e].categories){var n={},t=r[e].options.categories||{};if(x.isArray(t))for(var a=0;a<t.length;++a)n[t[a]]=a;else for(var o in t)n[o]=t[o];r[e].categories=n}r[e].options.ticks||(r[e].options.ticks=Q),(function(s,d,i){for(var h=s.points,w=s.pointsize,$=s.format,F=d.charAt(0),y=(function(v){var m=-1;for(var k in v)v[k]>m&&(m=v[k]);return m+1})(i),c=0;c<h.length;c+=w)if(h[c]!=null)for(var f=0;f<w;++f){var p=h[c+f];p!=null&&$[f][F]&&(p in i||(i[p]=y,++y),h[c+f]=i[p])}})(l,e,r[e].categories)}}function W(r,e,l){b(e,"xaxis",l),b(e,"yaxis",l)}x.plot.plugins.push({init:function(r){r.hooks.processRawData.push(A),r.hooks.processDatapoints.push(W)},options:{xaxis:{categories:null},yaxis:{categories:null}},name:"categories",version:"1.0"})})(jQuery);var u=g("#retention-chart");if(u.length){var z=u.data("recruits"),q=u.data("removals"),C=u.data("population"),j={series:{points:{show:!0,radius:2,symbol:"circle"},splines:{show:!0,tension:.4,lineWidth:1,fill:.1}},grid:{tickColor:"#404652",borderWidth:1,color:"#000",borderColor:"#404652"},tooltip:!1,xaxis:{mode:"categories",tickLength:0},colors:["#1bbf89","#f7af3e","#0F83C9"]};g.plot(u,[z,q,C],j),g(window).resize(function(){g.plot(u,[z,q,C],j)})}
