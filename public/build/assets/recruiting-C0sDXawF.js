import{r as N,_ as x,c as n,a as t,b as c,n as g,d as m,t as u,F as f,w as p,v as y,e as _,f as w,g as D,h as P,o as r,i as M,j as C,k as S,l as T}from"./_plugin-vue_export-helper-BNacxbSu.js";const s=N({base_url:window.Laravel.appPath,currentStep:"form",inDemoMode:!1,submitting:!1,submitted:!1,recruiter_id:null,member:{id:"",forum_name:"",ingame_name:"",rank:"",platoon:"",squad:""},validation:{loading:!1,memberId:{valid:!1,verifiedEmail:!1,groupId:null,currentUsername:"",existsInTracker:!1,tags:[],division:null},forumName:{valid:!1,available:!1}},division:{slug:"",platoons:[],threads:[],tasks:[],welcome_area:"",welcome_pm:"",use_welcome_thread:!1,locality:{platoon:"Platoon",squad:"Squad"}},loading:{divisionData:!1},errors:{divisionData:null,submission:null}});let I={};function U(a,e,l=300){I[a]&&clearTimeout(I[a]),I[a]=setTimeout(e,l)}s.loadDivisionData=a=>(s.loading.divisionData=!0,s.errors.divisionData=null,s.division.slug=a,axios.get(`${s.base_url}/divisions/${a}/recruit/data`).then(e=>{const l=e.data;s.division.platoons=l.platoons||[],s.division.threads=l.threads||[],s.division.tasks=l.tasks||[],s.division.welcome_area=l.welcome_area||"",s.division.welcome_pm=l.welcome_pm||"",s.division.use_welcome_thread=l.use_welcome_thread||!1,s.division.locality=l.locality||{platoon:"Platoon",squad:"Squad"},s.loading.divisionData=!1}).catch(e=>{s.loading.divisionData=!1,s.errors.divisionData="Failed to load division data. Please refresh and try again.",console.error("Division data load error:",e)}));s.getSquadsForPlatoon=a=>{const e=s.division.platoons.find(l=>l.id===parseInt(a));return e?e.squads:[]};s.validateMemberId=a=>{if(!a||a.length<1){s.validation.memberId={valid:!1,verifiedEmail:!1,groupId:null,currentUsername:"",existsInTracker:!1,tags:[],division:null};return}s.validation.loading=!0,U("memberId",()=>{if(s.inDemoMode){s.validation.memberId={valid:!0,verifiedEmail:!0,groupId:null,currentUsername:"DemoUser",existsInTracker:!1,tags:[],division:null},s.validation.loading=!1;return}axios.post(`${s.base_url}/validate-id/${a}`).then(e=>{const l=e.data;s.validation.memberId={valid:l.is_member||!1,verifiedEmail:l.valid_group||!1,groupId:l.group_id||null,currentUsername:l.username||"",existsInTracker:l.exists_in_tracker||!1,tags:l.tags||[],division:l.division||null},s.validation.loading=!1}).catch(()=>{s.validation.memberId={valid:!1,verifiedEmail:!1,groupId:null,currentUsername:"",existsInTracker:!1,tags:[],division:null},s.validation.loading=!1})},300)};s.validateForumName=(a,e)=>{if(!a||a.length<1){s.validation.forumName={valid:!1,available:!1};return}if(a.toLowerCase().startsWith("aod_")){s.validation.forumName={valid:!1,available:!1};return}s.validation.loading=!0,U("forumName",()=>{if(s.inDemoMode){s.validation.forumName={valid:!0,available:!0},s.validation.loading=!1;return}axios.post(`${s.base_url}/validate-name`,{name:a,member_id:e}).then(v=>{const i=!v.data.memberExists;s.validation.forumName={valid:i,available:i},s.validation.loading=!1}).catch(()=>{s.validation.forumName={valid:!1,available:!1},s.validation.loading=!1})},300)};s.isFormValid=()=>{const a=s.division.platoons.find(v=>v.id===parseInt(s.member.platoon)),l=!(a?a.squads.length>0:!1)||s.member.squad;return s.member.id&&s.member.forum_name&&s.member.ingame_name&&s.member.rank&&s.member.platoon&&l&&s.validation.memberId.valid&&s.validation.memberId.verifiedEmail&&s.validation.forumName.valid};s.submitRecruitment=()=>!s.isFormValid()||s.submitting?Promise.reject("Form is not valid"):(s.submitting=!0,s.errors.submission=null,s.inDemoMode?new Promise(a=>{setTimeout(()=>{s.submitting=!1,s.submitted=!0,s.currentStep="confirmation",a()},500)}):axios.post(`${s.base_url}/add-member/`,{division:s.division.slug,member_id:s.member.id,forum_name:s.member.forum_name,ingame_name:s.member.ingame_name,platoon:s.member.platoon,rank:s.member.rank,squad:s.member.squad}).then(()=>{s.submitting=!1,s.submitted=!0,s.currentStep="confirmation"}).catch(a=>{throw s.submitting=!1,s.errors.submission=a.response?.data?.message||"Failed to add recruit. Please try again.",a}));s.resetForNewRecruit=()=>{s.currentStep="form",s.submitting=!1,s.submitted=!1,s.errors.submission=null,s.member.id="",s.member.forum_name="",s.member.ingame_name="",s.member.rank="",s.member.platoon="",s.member.squad="",s.validation.loading=!1,s.validation.memberId={valid:!1,verifiedEmail:!1,groupId:null,currentUsername:"",existsInTracker:!1,tags:[],division:null},s.validation.forumName={valid:!1,available:!1}};s.toggleDemoMode=()=>{s.inDemoMode=!s.inDemoMode,s.inDemoMode?(s.member.id="99999",s.member.forum_name="TestRecruit",s.member.ingame_name="TestHandle",s.member.rank="1",s.validation.memberId={valid:!0,verifiedEmail:!0,groupId:null,currentUsername:"TestUser",existsInTracker:!1,tags:[],division:null},s.validation.forumName={valid:!0,available:!0}):s.resetForNewRecruit()};s.getFormattedName=()=>s.member.forum_name?`AOD_${s.member.forum_name}`:"";window.onbeforeunload=a=>{if(s.currentStep==="form"&&(s.member.id||s.member.forum_name)){const e="You are about to leave the recruiting process. Are you sure?";return a.returnValue=e,e}};const q={props:["ranks","recruiterId","divisionSlug","cancelUrl"],data(){return{store:s,submitted:!1,sections:{agreements:!1,tasks:!1}}},computed:{memberIdValidationClass(){return s.member.id?s.validation.loading?{}:s.validation.memberId.valid&&s.validation.memberId.verifiedEmail?{"has-success":!0}:{"has-error":!0}:{}},forumNameValidationClass(){return s.member.forum_name?s.validation.loading?{}:s.validation.forumName.valid?{"has-success":!0}:{"has-error":!0}:{}},selectedPlatoonSquads(){return s.getSquadsForPlatoon(s.member.platoon)},isNewMember(){return s.validation.memberId.valid&&!s.validation.memberId.existsInTracker}},watch:{isNewMember(a){a&&(this.sections.agreements=!0,this.sections.tasks=!0)}},methods:{toggleDemoMode(){s.toggleDemoMode()},toggleSection(a){this.sections[a]=!this.sections[a]},onMemberIdChange(){s.validateMemberId(s.member.id)},onForumNameChange(){s.validateForumName(s.member.forum_name,s.member.id)},onPlatoonChange(){s.member.squad=""},retryLoad(){s.loadDivisionData(this.divisionSlug)},getThreadUrl(a){return`https://www.clanaod.net/forums/showthread.php?t=${a}`},copyThreadUrl(a){const e=this.getThreadUrl(a);navigator.clipboard.writeText(e).then(()=>{toastr.success("URL copied to clipboard")})},linkifyUrls(a){if(!a)return"";const e=/(https?:\/\/[^\s<]+)/g;return a.replace(e,'<a href="$1" target="_blank">$1</a>')},submitForm(){this.submitted=!0,s.isFormValid()&&s.submitRecruitment().catch(()=>{})}},mounted(){s.recruiter_id=this.recruiterId,s.loadDivisionData(this.divisionSlug)}},F={class:"recruit-form-header"},V={key:0,class:"demo-notice"},A={key:1,class:"recruit-loading"},R={key:2,class:"recruit-error"},E={class:"recruit-section"},L={class:"recruit-section-body"},W={class:"row"},H={class:"col-md-6"},B={class:"input-with-status"},O=["disabled"],j={key:0,class:"input-status"},z={key:0,class:"fa fa-spinner fa-spin"},G={key:1,class:"fa fa-check text-success"},J={key:2,class:"fa fa-times text-danger"},Y={key:0,class:"help-block text-danger"},K={key:1,class:"help-block text-warning"},Q={key:0,class:"col-md-6"},X={class:"form-group"},Z={class:"current-username"},$={key:0,class:"existing-member-badge"},ee={key:0,class:"member-tags-display"},se=["title"],te={class:"recruit-section"},ie={class:"recruit-section-body"},oe={class:"row"},re={class:"col-md-4"},ne={class:"input-with-status"},ae=["disabled"],le={key:0,class:"input-status"},de={key:0,class:"fa fa-spinner fa-spin"},me={key:1,class:"fa fa-check text-success"},ue={key:2,class:"fa fa-times text-danger"},ce={key:0,class:"help-block"},fe={key:1,class:"help-block text-danger"},ve={key:2,class:"help-block text-danger"},be={class:"col-md-4"},ge=["disabled"],pe={class:"col-md-4"},_e=["value"],he={key:0,class:"recruit-section"},ke={class:"recruit-section-body"},ye={class:"row"},we={class:"col-md-6"},Ie={for:"platoon"},xe={value:""},De=["value"],Me={class:"col-md-6"},Ce={for:"squad"},Se={key:0,class:"text-danger"},Ue=["disabled"],Ne={value:""},Pe=["value"],Te={key:1,class:"recruit-section recruit-section-collapsible"},qe={class:"section-toggle"},Fe={class:"recruit-section-body"},Ve={class:"agreement-list"},Ae={class:"agreement-item-content"},Re=["onUpdate:modelValue"],Ee={class:"agreement-name"},Le=["href"],We={key:0,class:"agreement-comment text-muted"},He=["onClick"],Be={key:2,class:"recruit-section recruit-section-collapsible"},Oe={class:"section-toggle"},je={class:"recruit-section-body"},ze={class:"task-list"},Ge=["onUpdate:modelValue"],Je=["innerHTML"],Ye={key:3,class:"recruit-error"},Ke={class:"recruit-form-actions"},Qe=["href"],Xe=["disabled"],Ze={key:0},$e={key:1};function es(a,e,l,v,i,d){return r(),n("form",{onSubmit:e[13]||(e[13]=P((...o)=>d.submitForm&&d.submitForm(...o),["prevent"])),class:"recruit-form"},[t("div",F,[e[15]||(e[15]=t("h3",null,"Add New Recruit",-1)),t("button",{type:"button",class:g(["btn btn-sm",i.store.inDemoMode?"btn-success":"btn-default"]),onClick:e[0]||(e[0]=(...o)=>d.toggleDemoMode&&d.toggleDemoMode(...o))},[t("i",{class:g(["fa",i.store.inDemoMode?"fa-check":"fa-flask"])},null,2),e[14]||(e[14]=m(" Demo Mode ",-1))],2)]),i.store.inDemoMode?(r(),n("div",V,[...e[16]||(e[16]=[t("i",{class:"fa fa-info-circle"},null,-1),m(" Demo mode is active. No data will be saved. ",-1)])])):c("",!0),i.store.loading.divisionData?(r(),n("div",A,[...e[17]||(e[17]=[t("span",{class:"themed-spinner"},null,-1),m(" Loading division data... ",-1)])])):i.store.errors.divisionData?(r(),n("div",R,[e[18]||(e[18]=t("i",{class:"fa fa-exclamation-triangle"},null,-1)),m(" "+u(i.store.errors.divisionData)+" ",1),t("button",{type:"button",class:"btn btn-sm btn-default",onClick:e[1]||(e[1]=(...o)=>d.retryLoad&&d.retryLoad(...o))},"Retry")])):(r(),n(f,{key:3},[t("div",E,[e[26]||(e[26]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-user-check"}),m(" Member Verification ")],-1)),t("div",L,[t("div",W,[t("div",H,[t("div",{class:g(["form-group",d.memberIdValidationClass])},[e[22]||(e[22]=t("label",{for:"member_id"},[m("Forum Member ID "),t("span",{class:"text-danger"},"*")],-1)),t("div",B,[p(t("input",{type:"number",class:"form-control",id:"member_id","onUpdate:modelValue":e[2]||(e[2]=o=>i.store.member.id=o),onInput:e[3]||(e[3]=(...o)=>d.onMemberIdChange&&d.onMemberIdChange(...o)),disabled:i.store.inDemoMode,placeholder:"e.g. 12345"},null,40,O),[[y,i.store.member.id]]),i.store.member.id?(r(),n("span",j,[i.store.validation.loading?(r(),n("i",z)):i.store.validation.memberId.valid&&i.store.validation.memberId.verifiedEmail?(r(),n("i",G)):i.store.member.id.length>0?(r(),n("i",J)):c("",!0)])):c("",!0)]),i.store.member.id&&!i.store.validation.memberId.valid&&!i.store.validation.loading?(r(),n("span",Y," Member ID not found on forums ")):i.store.member.id&&i.store.validation.memberId.valid&&!i.store.validation.memberId.verifiedEmail&&!i.store.validation.loading?(r(),n("span",K,[i.store.validation.memberId.groupId===3?(r(),n(f,{key:0},[m(" Member needs to validate their email address before they can be recruited. ")],64)):i.store.validation.memberId.groupId===4?(r(),n(f,{key:1},[m(" Member needs to complete the AuthLink process before they can be recruited. ")],64)):(r(),n(f,{key:2},[e[19]||(e[19]=m(" Member is not in the ",-1)),e[20]||(e[20]=t("code",null,"Registered Users",-1)),e[21]||(e[21]=m(" group. ",-1))],64))])):c("",!0)],2)]),i.store.validation.memberId.currentUsername?(r(),n("div",Q,[t("div",X,[e[25]||(e[25]=t("label",null,"Current Forum Username",-1)),t("div",Z,[e[24]||(e[24]=t("i",{class:"fa fa-user"},null,-1)),m(" "+u(i.store.validation.memberId.currentUsername)+" ",1),i.store.validation.memberId.existsInTracker?(r(),n("span",$,[...e[23]||(e[23]=[t("i",{class:"fa fa-history"},null,-1),m(" Previous Member ",-1)])])):c("",!0)]),i.store.validation.memberId.tags.length?(r(),n("div",ee,[(r(!0),n(f,null,_(i.store.validation.memberId.tags,(o,b)=>(r(),n("span",{key:b,class:"badge badge-tag",title:o.division},u(o.name),9,se))),128))])):c("",!0)])])):c("",!0)])])]),t("div",te,[e[32]||(e[32]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-id-card"}),m(" Recruit Details ")],-1)),t("div",ie,[t("div",oe,[t("div",re,[t("div",{class:g(["form-group",d.forumNameValidationClass])},[e[28]||(e[28]=t("label",{for:"forum_name"},[m("Forum Name "),t("span",{class:"text-danger"},"*")],-1)),t("div",ne,[p(t("input",{type:"text",class:"form-control",id:"forum_name","onUpdate:modelValue":e[4]||(e[4]=o=>i.store.member.forum_name=o),onInput:e[5]||(e[5]=(...o)=>d.onForumNameChange&&d.onForumNameChange(...o)),disabled:i.store.inDemoMode,placeholder:"Desired forum name"},null,40,ae),[[y,i.store.member.forum_name]]),i.store.member.forum_name?(r(),n("span",le,[i.store.validation.loading?(r(),n("i",de)):i.store.validation.forumName.valid?(r(),n("i",me)):(r(),n("i",ue))])):c("",!0)]),i.store.member.forum_name&&i.store.validation.forumName.valid?(r(),n("span",ce,[e[27]||(e[27]=m(" Will become: ",-1)),t("strong",null,u(i.store.getFormattedName()),1)])):i.store.member.forum_name&&i.store.member.forum_name.toLowerCase().startsWith("aod_")?(r(),n("span",fe,' Do not include "AOD_" prefix ')):i.store.member.forum_name&&!i.store.validation.forumName.available&&!i.store.validation.loading?(r(),n("span",ve," This name is already taken ")):c("",!0)],2)]),t("div",be,[t("div",{class:g(["form-group",{"has-error":!i.store.member.ingame_name&&i.submitted}])},[e[29]||(e[29]=t("label",{for:"ingame_name"},[m("In-Game Handle "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{type:"text",class:"form-control",id:"ingame_name","onUpdate:modelValue":e[6]||(e[6]=o=>i.store.member.ingame_name=o),disabled:i.store.inDemoMode,placeholder:"In-game name"},null,8,ge),[[y,i.store.member.ingame_name]])],2)]),t("div",pe,[t("div",{class:g(["form-group",{"has-error":!i.store.member.rank&&i.submitted}])},[e[31]||(e[31]=t("label",{for:"rank"},[m("Rank "),t("span",{class:"text-danger"},"*")],-1)),p(t("select",{id:"rank",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>i.store.member.rank=o)},[e[30]||(e[30]=t("option",{value:""},"Select rank...",-1)),(r(!0),n(f,null,_(l.ranks,(o,b)=>(r(),n("option",{key:b,value:b},u(o),9,_e))),128))],512),[[w,i.store.member.rank]])],2)])])])]),i.store.division.platoons.length?(r(),n("div",he,[e[34]||(e[34]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-users"}),m(" Assignment ")],-1)),t("div",ke,[t("div",ye,[t("div",we,[t("div",{class:g(["form-group",{"has-error":!i.store.member.platoon&&i.submitted}])},[t("label",Ie,[m(u(i.store.division.locality.platoon)+" ",1),e[33]||(e[33]=t("span",{class:"text-danger"},"*",-1))]),p(t("select",{id:"platoon",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>i.store.member.platoon=o),onChange:e[9]||(e[9]=(...o)=>d.onPlatoonChange&&d.onPlatoonChange(...o))},[t("option",xe,"Select "+u(i.store.division.locality.platoon.toLowerCase())+"...",1),(r(!0),n(f,null,_(i.store.division.platoons,o=>(r(),n("option",{key:o.id,value:o.id},u(o.name)+" ("+u(o.members_count)+")"+u(o.leader_name?" - "+o.leader_name:""),9,De))),128))],544),[[w,i.store.member.platoon]])],2)]),t("div",Me,[t("div",{class:g(["form-group",{"has-error":!i.store.member.squad&&d.selectedPlatoonSquads.length&&i.submitted}])},[t("label",Ce,[m(u(i.store.division.locality.squad)+" ",1),d.selectedPlatoonSquads.length?(r(),n("span",Se,"*")):c("",!0)]),p(t("select",{id:"squad",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=o=>i.store.member.squad=o),disabled:!d.selectedPlatoonSquads.length},[t("option",Ne,u(d.selectedPlatoonSquads.length?"Select "+i.store.division.locality.squad.toLowerCase()+"...":"No "+i.store.division.locality.squad.toLowerCase()+"s available"),1),(r(!0),n(f,null,_(d.selectedPlatoonSquads,o=>(r(),n("option",{key:o.id,value:o.id},u(o.name||"Squad #"+o.id)+" ("+u(o.members_count)+")"+u(o.leader_name?" - "+o.leader_name:""),9,Pe))),128))],8,Ue),[[w,i.store.member.squad]])],2)])])])])):c("",!0),i.store.division.threads.length?(r(),n("div",Te,[t("div",{class:"recruit-section-header",onClick:e[11]||(e[11]=o=>d.toggleSection("agreements"))},[e[35]||(e[35]=t("i",{class:"fa fa-file-contract"},null,-1)),e[36]||(e[36]=m(" Agreements ",-1)),t("span",qe,[t("i",{class:g(["fa",i.sections.agreements?"fa-chevron-up":"fa-chevron-down"])},null,2)])]),p(t("div",Fe,[e[38]||(e[38]=t("p",{class:"text-muted"},"Confirm the recruit has read the following:",-1)),t("div",Ve,[(r(!0),n(f,null,_(i.store.division.threads,(o,b)=>(r(),n("div",{key:b,class:"agreement-item"},[t("label",Ae,[p(t("input",{type:"checkbox","onUpdate:modelValue":h=>o.read=h},null,8,Re),[[M,o.read]]),t("span",Ee,[t("a",{href:d.getThreadUrl(o.id),target:"_blank"},u(o.name),9,Le)]),o.comments?(r(),n("span",We,u(o.comments),1)):c("",!0)]),t("button",{type:"button",class:"btn btn-xs btn-default agreement-copy",onClick:h=>d.copyThreadUrl(o.id),title:"Copy URL"},[...e[37]||(e[37]=[t("i",{class:"fa fa-clone"},null,-1)])],8,He)]))),128))])],512),[[D,i.sections.agreements]])])):c("",!0),i.store.division.tasks.length?(r(),n("div",Be,[t("div",{class:"recruit-section-header",onClick:e[12]||(e[12]=o=>d.toggleSection("tasks"))},[e[39]||(e[39]=t("i",{class:"fa fa-tasks"},null,-1)),e[40]||(e[40]=m(" In-Processing Tasks ",-1)),t("span",Oe,[t("i",{class:g(["fa",i.sections.tasks?"fa-chevron-up":"fa-chevron-down"])},null,2)])]),p(t("div",je,[e[41]||(e[41]=t("p",{class:"text-muted"},"Checklist for onboarding the new recruit:",-1)),t("div",ze,[(r(!0),n(f,null,_(i.store.division.tasks,(o,b)=>(r(),n("label",{key:b,class:"task-item"},[p(t("input",{type:"checkbox","onUpdate:modelValue":h=>o.complete=h},null,8,Ge),[[M,o.complete]]),t("span",{class:"task-description",innerHTML:d.linkifyUrls(o.description)},null,8,Je)]))),128))])],512),[[D,i.sections.tasks]])])):c("",!0),i.store.errors.submission?(r(),n("div",Ye,[e[42]||(e[42]=t("i",{class:"fa fa-exclamation-triangle"},null,-1)),m(" "+u(i.store.errors.submission),1)])):c("",!0),t("div",Ke,[t("a",{href:l.cancelUrl,class:"btn btn-default"},"Cancel",8,Qe),t("button",{type:"submit",class:"btn btn-success",disabled:!i.store.isFormValid()||i.store.submitting},[i.store.submitting?(r(),n("span",Ze,[...e[43]||(e[43]=[t("span",{class:"themed-spinner spinner-sm"},null,-1),m(" Adding Recruit... ",-1)])])):(r(),n("span",$e,[...e[44]||(e[44]=[m(" Add Recruit ",-1),t("i",{class:"fa fa-arrow-right"},null,-1)])]))],8,Xe)])],64))],32)}const ss=x(q,[["render",es]]),ts={props:["divisionSlug"],data(){return{store:s}},computed:{assignmentText(){const a=[];if(s.member.platoon){const e=s.division.platoons.find(l=>l.id===parseInt(s.member.platoon));if(e&&(a.push(e.name),s.member.squad)){const l=e.squads.find(v=>v.id===parseInt(s.member.squad));l&&l.name&&a.push(l.name)}}return a.join(" > ")},showHousekeeping(){return s.division.welcome_area||s.division.welcome_pm},welcomePostUrl(){return s.division.use_welcome_thread?`https://www.clanaod.net/forums/newreply.php?do=newreply&t=${s.division.welcome_area}`:`https://www.clanaod.net/forums/newthread.php?do=newthread&f=${s.division.welcome_area}`},forumPMUrl(){return`https://clanaod.net/forums/private.php?do=newpm&u=${s.member.id}`},formattedWelcomePM(){let a=s.division.welcome_pm||"";if(!a)return"";const e={name:s.member.forum_name||"",ingame_name:s.member.ingame_name||""};return Object.keys(e).forEach(l=>{const v=e[l]==null?"":String(e[l]),i=new RegExp("{{\\s*"+l+"\\s*}}","g");a=a.replace(i,v)}),a},divisionUrl(){return`${s.base_url}/divisions/${this.divisionSlug}`}},methods:{addAnother(){s.resetForNewRecruit()},copyWelcomePM(){navigator.clipboard.writeText(this.formattedWelcomePM).then(()=>{toastr.success("Copied!")})}}},is={class:"recruit-confirmation"},os={class:"recruit-success"},rs={class:"recruit-success-details"},ns={key:0,class:"demo-notice"},as={key:1,class:"recruit-section"},ls={class:"recruit-section-body"},ds={class:"housekeeping-actions"},ms={key:0,class:"housekeeping-action"},us={class:"housekeeping-action-content"},cs={key:0},fs={key:1},vs=["href"],bs={key:1,class:"housekeeping-action"},gs={class:"housekeeping-action-content"},ps={class:"welcome-pm-container"},_s={id:"welcome_pm",class:"form-control",rows:"4",readonly:""},hs={class:"welcome-pm-actions"},ks=["href"],ys={class:"recruit-form-actions"},ws=["href"];function Is(a,e,l,v,i,d){return r(),n("div",is,[t("div",os,[e[4]||(e[4]=t("div",{class:"recruit-success-icon"},[t("i",{class:"fa fa-check-circle"})],-1)),e[5]||(e[5]=t("h3",null,"Recruit Added Successfully",-1)),t("p",rs,[t("strong",null,u(i.store.getFormattedName()),1),e[3]||(e[3]=m(" has been added to the division. ",-1)),d.assignmentText?(r(),n(f,{key:0},[e[2]||(e[2]=t("br",null,null,-1)),m("Assigned to: "+u(d.assignmentText),1)],64)):c("",!0)])]),i.store.inDemoMode?(r(),n("div",ns,[...e[6]||(e[6]=[t("i",{class:"fa fa-info-circle"},null,-1),m(" Demo mode was active. No data was saved. ",-1)])])):c("",!0),d.showHousekeeping?(r(),n("div",as,[e[16]||(e[16]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-clipboard-check"}),m(" Housekeeping ")],-1)),t("div",ls,[e[15]||(e[15]=t("p",{class:"text-muted"},"Optional tasks to complete for your new recruit:",-1)),t("div",ds,[i.store.division.welcome_area?(r(),n("div",ms,[e[9]||(e[9]=t("div",{class:"housekeeping-action-icon"},[t("i",{class:"fa fa-reply-all"})],-1)),t("div",us,[e[8]||(e[8]=t("h5",null,"Create Welcome Post",-1)),i.store.division.use_welcome_thread?(r(),n("p",cs," Create a post in the division's welcome thread to introduce your recruit. ")):(r(),n("p",fs," Create a thread in the division's welcome forum to introduce your recruit. ")),t("a",{href:d.welcomePostUrl,target:"_blank",class:"btn btn-sm btn-accent"},[e[7]||(e[7]=t("i",{class:"fa fa-external-link"},null,-1)),m(" "+u(i.store.division.use_welcome_thread?"Create Post":"Create Thread"),1)],8,vs)])])):c("",!0),i.store.division.welcome_pm?(r(),n("div",bs,[e[14]||(e[14]=t("div",{class:"housekeeping-action-icon"},[t("i",{class:"fa fa-envelope"})],-1)),t("div",gs,[e[12]||(e[12]=t("h5",null,"Send Welcome DM",-1)),e[13]||(e[13]=t("p",null,"Send a welcome message to your recruit via forum PM or Discord.",-1)),t("div",ps,[t("textarea",_s,u(d.formattedWelcomePM),1),t("div",hs,[t("button",{type:"button",class:"btn btn-sm btn-success",onClick:e[0]||(e[0]=(...o)=>d.copyWelcomePM&&d.copyWelcomePM(...o))},[...e[10]||(e[10]=[t("i",{class:"fa fa-clone"},null,-1),m(" Copy ",-1)])]),t("a",{href:d.forumPMUrl,target:"_blank",class:"btn btn-sm btn-accent"},[...e[11]||(e[11]=[t("i",{class:"fa fa-external-link"},null,-1),m(" Send Forum PM ",-1)])],8,ks)])])])])):c("",!0)])])])):c("",!0),t("div",ys,[t("button",{type:"button",class:"btn btn-default",onClick:e[1]||(e[1]=(...o)=>d.addAnother&&d.addAnother(...o))},[...e[17]||(e[17]=[t("i",{class:"fa fa-plus"},null,-1),m(" Add Another Recruit ",-1)])]),t("a",{href:d.divisionUrl,class:"btn btn-success"},[...e[18]||(e[18]=[t("i",{class:"fa fa-arrow-left"},null,-1),m(" Back to Division ",-1)])],8,ws)])])}const xs=x(ts,[["render",Is]]),Ds={components:{StepOne:ss,StepConfirmation:xs},props:["division","ranks","recruiterId"],data(){return{store:s}},computed:{cancelUrl(){return`${s.base_url}/divisions/${this.division}`}}},Ms={class:"recruit-wizard"};function Cs(a,e,l,v,i,d){const o=S("step-one"),b=S("step-confirmation");return r(),n("div",Ms,[i.store.currentStep==="form"?(r(),C(o,{key:0,ranks:l.ranks,"recruiter-id":l.recruiterId,"division-slug":l.division,"cancel-url":d.cancelUrl},null,8,["ranks","recruiter-id","division-slug","cancel-url"])):i.store.currentStep==="confirmation"?(r(),C(b,{key:1,"division-slug":l.division},null,8,["division-slug"])):c("",!0)])}const Ss=x(Ds,[["render",Cs]]),k=document.getElementById("recruiting-container");k&&T(Ss,{division:k.getAttribute("data-division"),recruiterId:k.getAttribute("data-recruiter-id"),ranks:JSON.parse(k.getAttribute("data-ranks")||"{}")}).mount("#recruiting-container");
