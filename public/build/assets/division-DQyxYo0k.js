var a=a||{};(function(t){a={initUnassigned:function(){t(function(){t(".unassigned").draggable({revert:!0}),t(".platoon").droppable({hoverClass:"panel-c-success",drop:function(e,n){let i=t(this),s=window.Laravel.appPath,r=n.draggable.attr("data-member-id"),o=i.attr("data-platoon-id");t.ajax({type:"POST",url:s+"/members/"+r+"/assign-platoon",data:{platoon_id:o,_token:t("meta[name=csrf-token]").attr("content")},success:function(d){toastr.success("Member was assigned to platoon #"+o),t(n.draggable).remove(),t(".unassigned").length<1&&t(".unassigned-container").slideUp()}})}})})},setup:function(){this.initAutocomplete(),this.initSetup(),this.initUnassigned()},initSetup:function(){var e=t(".promotions-chart");e.length&&new Chart(e,{type:"doughnut",data:{datasets:[{data:e.data("values"),borderWidth:0,backgroundColor:["#949ba2","#0f83c9","#1bbf89","#f7af3e","#56c0e0","#db524b"]}],labels:e.data("labels")},options:{legend:{position:"bottom",labels:{boxWidth:5,fontColor:"#949ba2"},label:{fullWidth:!0}}}})},initAutocomplete:function(){t("#leader").bootcomplete({url:window.Laravel.appPath+"/search-member/",minLength:3,idField:!0,method:"POST",dataParams:{_token:t("meta[name=csrf-token]").attr("content")}})}}})(window.jQuery);a.setup();
