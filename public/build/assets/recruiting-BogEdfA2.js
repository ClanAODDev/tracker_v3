import{r as S,_ as D,c as a,a as t,b as u,n as p,d as m,t as c,F as _,w as f,v as w,e as y,f as g,g as I,h as T,o as n,i as M,j as C,k as U,l as P}from"./_plugin-vue_export-helper-CwEyJbmd.js";const s=S({base_url:window.Laravel.appPath,currentStep:"form",inDemoMode:!1,submitting:!1,submitted:!1,recruiter_id:null,member:{id:"",forum_name:"",ingame_name:"",rank:"",platoon:"",squad:""},validation:{loading:!1,memberId:{valid:!1,verifiedEmail:!1,currentUsername:"",existsInTracker:!1},forumName:{valid:!1,available:!1}},division:{slug:"",platoons:[],threads:[],tasks:[],welcome_area:"",welcome_pm:"",use_welcome_thread:!1,locality:{platoon:"Platoon",squad:"Squad"}},loading:{divisionData:!1},errors:{divisionData:null,submission:null}});let x={};function N(r,e,l=300){x[r]&&clearTimeout(x[r]),x[r]=setTimeout(e,l)}s.loadDivisionData=r=>(s.loading.divisionData=!0,s.errors.divisionData=null,s.division.slug=r,axios.get(`${s.base_url}/divisions/${r}/recruit/data`).then(e=>{const l=e.data;s.division.platoons=l.platoons||[],s.division.threads=l.threads||[],s.division.tasks=l.tasks||[],s.division.welcome_area=l.welcome_area||"",s.division.welcome_pm=l.welcome_pm||"",s.division.use_welcome_thread=l.use_welcome_thread||!1,s.division.locality=l.locality||{platoon:"Platoon",squad:"Squad"},s.loading.divisionData=!1}).catch(e=>{s.loading.divisionData=!1,s.errors.divisionData="Failed to load division data. Please refresh and try again.",console.error("Division data load error:",e)}));s.getSquadsForPlatoon=r=>{const e=s.division.platoons.find(l=>l.id===parseInt(r));return e?e.squads:[]};s.validateMemberId=r=>{if(!r||r.length<1){s.validation.memberId={valid:!1,verifiedEmail:!1,currentUsername:"",existsInTracker:!1};return}s.validation.loading=!0,N("memberId",()=>{if(s.inDemoMode){s.validation.memberId={valid:!0,verifiedEmail:!0,currentUsername:"DemoUser",existsInTracker:!1},s.validation.loading=!1;return}axios.post(`${s.base_url}/validate-id/${r}`).then(e=>{const l=e.data;s.validation.memberId={valid:l.is_member||!1,verifiedEmail:l.valid_group||!1,currentUsername:l.username||"",existsInTracker:l.exists_in_tracker||!1},s.validation.loading=!1}).catch(()=>{s.validation.memberId={valid:!1,verifiedEmail:!1,currentUsername:"",existsInTracker:!1},s.validation.loading=!1})},300)};s.validateForumName=(r,e)=>{if(!r||r.length<1){s.validation.forumName={valid:!1,available:!1};return}if(r.toLowerCase().startsWith("aod_")){s.validation.forumName={valid:!1,available:!1};return}s.validation.loading=!0,N("forumName",()=>{if(s.inDemoMode){s.validation.forumName={valid:!0,available:!0},s.validation.loading=!1;return}axios.post(`${s.base_url}/validate-name`,{name:r,member_id:e}).then(v=>{const i=!v.data.memberExists;s.validation.forumName={valid:i,available:i},s.validation.loading=!1}).catch(()=>{s.validation.forumName={valid:!1,available:!1},s.validation.loading=!1})},300)};s.isFormValid=()=>s.member.id&&s.member.forum_name&&s.member.rank&&s.validation.memberId.valid&&s.validation.memberId.verifiedEmail&&s.validation.forumName.valid;s.submitRecruitment=()=>!s.isFormValid()||s.submitting?Promise.reject("Form is not valid"):(s.submitting=!0,s.errors.submission=null,s.inDemoMode?new Promise(r=>{setTimeout(()=>{s.submitting=!1,s.submitted=!0,s.currentStep="confirmation",r()},500)}):axios.post(`${s.base_url}/add-member/`,{division:s.division.slug,member_id:s.member.id,forum_name:s.member.forum_name,ingame_name:s.member.ingame_name,platoon:s.member.platoon,rank:s.member.rank,squad:s.member.squad}).then(()=>{s.submitting=!1,s.submitted=!0,s.currentStep="confirmation"}).catch(r=>{throw s.submitting=!1,s.errors.submission=r.response?.data?.message||"Failed to add recruit. Please try again.",r}));s.resetForNewRecruit=()=>{s.currentStep="form",s.submitting=!1,s.submitted=!1,s.errors.submission=null,s.member.id="",s.member.forum_name="",s.member.ingame_name="",s.member.rank="",s.member.platoon="",s.member.squad="",s.validation.loading=!1,s.validation.memberId={valid:!1,verifiedEmail:!1,currentUsername:"",existsInTracker:!1},s.validation.forumName={valid:!1,available:!1}};s.toggleDemoMode=()=>{s.inDemoMode=!s.inDemoMode,s.inDemoMode?(s.member.id="99999",s.member.forum_name="TestRecruit",s.member.rank="1",s.validation.memberId={valid:!0,verifiedEmail:!0,currentUsername:"TestUser",existsInTracker:!1},s.validation.forumName={valid:!0,available:!0}):s.resetForNewRecruit()};s.getFormattedName=()=>s.member.forum_name?`AOD_${s.member.forum_name}`:"";window.onbeforeunload=r=>{if(s.currentStep==="form"&&(s.member.id||s.member.forum_name)){const e="You are about to leave the recruiting process. Are you sure?";return r.returnValue=e,e}};const F={props:["ranks","recruiterId","divisionSlug","cancelUrl"],data(){return{store:s,submitted:!1,sections:{agreements:!1,tasks:!1}}},computed:{memberIdValidationClass(){return s.member.id?s.validation.loading?{}:s.validation.memberId.valid&&s.validation.memberId.verifiedEmail?{"has-success":!0}:{"has-error":!0}:{}},forumNameValidationClass(){return s.member.forum_name?s.validation.loading?{}:s.validation.forumName.valid?{"has-success":!0}:{"has-error":!0}:{}},selectedPlatoonSquads(){return s.getSquadsForPlatoon(s.member.platoon)},isNewMember(){return s.validation.memberId.valid&&!s.validation.memberId.existsInTracker}},watch:{isNewMember(r){r&&(this.sections.agreements=!0,this.sections.tasks=!0)}},methods:{toggleDemoMode(){s.toggleDemoMode()},toggleSection(r){this.sections[r]=!this.sections[r]},onMemberIdChange(){s.validateMemberId(s.member.id)},onForumNameChange(){s.validateForumName(s.member.forum_name,s.member.id)},onPlatoonChange(){s.member.squad=""},retryLoad(){s.loadDivisionData(this.divisionSlug)},getThreadUrl(r){return`https://www.clanaod.net/forums/showthread.php?t=${r}`},copyThreadUrl(r){const e=this.getThreadUrl(r);navigator.clipboard.writeText(e).then(()=>{toastr.success("URL copied to clipboard")})},linkifyUrls(r){if(!r)return"";const e=/(https?:\/\/[^\s<]+)/g;return r.replace(e,'<a href="$1" target="_blank">$1</a>')},submitForm(){this.submitted=!0,s.isFormValid()&&s.submitRecruitment().catch(()=>{})}},mounted(){s.recruiter_id=this.recruiterId,s.loadDivisionData(this.divisionSlug)}},q={class:"recruit-form-header"},V={key:0,class:"demo-notice"},A={key:1,class:"recruit-loading"},R={key:2,class:"recruit-error"},E={class:"recruit-section"},L={class:"recruit-section-body"},W={class:"row"},B={class:"col-md-4"},H={class:"input-with-status"},O=["disabled"],j={key:0,class:"input-status"},z={key:0,class:"fa fa-spinner fa-spin"},G={key:1,class:"fa fa-check text-success"},J={key:2,class:"fa fa-times text-danger"},Y={key:0,class:"help-block text-danger"},K={key:1,class:"help-block text-warning"},Q={key:0,class:"col-md-8"},X={class:"form-group"},Z={class:"current-username"},$={class:"recruit-section"},ee={class:"recruit-section-body"},se={class:"row"},te={class:"col-md-4"},ie={class:"input-with-status"},oe=["disabled"],re={key:0,class:"input-status"},ne={key:0,class:"fa fa-spinner fa-spin"},ae={key:1,class:"fa fa-check text-success"},le={key:2,class:"fa fa-times text-danger"},de={key:0,class:"help-block"},me={key:1,class:"help-block text-danger"},ue={key:2,class:"help-block text-danger"},ce={class:"col-md-4"},fe={class:"form-group"},ve=["disabled"],be={class:"col-md-4"},pe=["value"],_e={key:0,class:"recruit-section"},ge={class:"recruit-section-body"},he={class:"row"},ke={class:"col-md-6"},we={class:"form-group"},ye={for:"platoon"},xe={value:""},De=["value"],Ie={class:"col-md-6"},Me={class:"form-group"},Ce={for:"squad"},Ue=["disabled"],Ne={value:""},Se=["value"],Te={key:1,class:"recruit-section recruit-section-collapsible"},Pe={class:"section-toggle"},Fe={class:"recruit-section-body"},qe={class:"agreement-list"},Ve={class:"agreement-item-content"},Ae=["onUpdate:modelValue"],Re={class:"agreement-name"},Ee=["href"],Le={key:0,class:"agreement-comment text-muted"},We=["onClick"],Be={key:2,class:"recruit-section recruit-section-collapsible"},He={class:"section-toggle"},Oe={class:"recruit-section-body"},je={class:"task-list"},ze=["onUpdate:modelValue"],Ge=["innerHTML"],Je={key:3,class:"recruit-error"},Ye={class:"recruit-form-actions"},Ke=["href"],Qe=["disabled"],Xe={key:0},Ze={key:1};function $e(r,e,l,v,i,d){return n(),a("form",{onSubmit:e[13]||(e[13]=T((...o)=>d.submitForm&&d.submitForm(...o),["prevent"])),class:"recruit-form"},[t("div",q,[e[15]||(e[15]=t("h3",null,"Add New Recruit",-1)),t("button",{type:"button",class:p(["btn btn-sm",i.store.inDemoMode?"btn-success":"btn-default"]),onClick:e[0]||(e[0]=(...o)=>d.toggleDemoMode&&d.toggleDemoMode(...o))},[t("i",{class:p(["fa",i.store.inDemoMode?"fa-check":"fa-flask"])},null,2),e[14]||(e[14]=m(" Demo Mode ",-1))],2)]),i.store.inDemoMode?(n(),a("div",V,[...e[16]||(e[16]=[t("i",{class:"fa fa-info-circle"},null,-1),m(" Demo mode is active. No data will be saved. ",-1)])])):u("",!0),i.store.loading.divisionData?(n(),a("div",A,[...e[17]||(e[17]=[t("i",{class:"fa fa-spinner fa-spin"},null,-1),m(" Loading division data... ",-1)])])):i.store.errors.divisionData?(n(),a("div",R,[e[18]||(e[18]=t("i",{class:"fa fa-exclamation-triangle"},null,-1)),m(" "+c(i.store.errors.divisionData)+" ",1),t("button",{type:"button",class:"btn btn-sm btn-default",onClick:e[1]||(e[1]=(...o)=>d.retryLoad&&d.retryLoad(...o))},"Retry")])):(n(),a(_,{key:3},[t("div",E,[e[22]||(e[22]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-user-check"}),m(" Member Verification ")],-1)),t("div",L,[t("div",W,[t("div",B,[t("div",{class:p(["form-group",d.memberIdValidationClass])},[e[19]||(e[19]=t("label",{for:"member_id"},"Forum Member ID",-1)),t("div",H,[f(t("input",{type:"number",class:"form-control",id:"member_id","onUpdate:modelValue":e[2]||(e[2]=o=>i.store.member.id=o),onInput:e[3]||(e[3]=(...o)=>d.onMemberIdChange&&d.onMemberIdChange(...o)),disabled:i.store.inDemoMode,placeholder:"e.g. 12345"},null,40,O),[[w,i.store.member.id]]),i.store.member.id?(n(),a("span",j,[i.store.validation.loading?(n(),a("i",z)):i.store.validation.memberId.valid&&i.store.validation.memberId.verifiedEmail?(n(),a("i",G)):i.store.member.id.length>0?(n(),a("i",J)):u("",!0)])):u("",!0)]),i.store.member.id&&!i.store.validation.memberId.valid&&!i.store.validation.loading?(n(),a("span",Y," Member ID not found on forums ")):i.store.member.id&&i.store.validation.memberId.valid&&!i.store.validation.memberId.verifiedEmail&&!i.store.validation.loading?(n(),a("span",K," Member has not verified their email ")):u("",!0)],2)]),i.store.validation.memberId.currentUsername?(n(),a("div",Q,[t("div",X,[e[21]||(e[21]=t("label",null,"Current Forum Username",-1)),t("div",Z,[e[20]||(e[20]=t("i",{class:"fa fa-user"},null,-1)),m(" "+c(i.store.validation.memberId.currentUsername),1)])])])):u("",!0)])])]),t("div",$,[e[28]||(e[28]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-id-card"}),m(" Recruit Details ")],-1)),t("div",ee,[t("div",se,[t("div",te,[t("div",{class:p(["form-group",d.forumNameValidationClass])},[e[24]||(e[24]=t("label",{for:"forum_name"},"Forum Name",-1)),t("div",ie,[f(t("input",{type:"text",class:"form-control",id:"forum_name","onUpdate:modelValue":e[4]||(e[4]=o=>i.store.member.forum_name=o),onInput:e[5]||(e[5]=(...o)=>d.onForumNameChange&&d.onForumNameChange(...o)),disabled:i.store.inDemoMode,placeholder:"Desired forum name"},null,40,oe),[[w,i.store.member.forum_name]]),i.store.member.forum_name?(n(),a("span",re,[i.store.validation.loading?(n(),a("i",ne)):i.store.validation.forumName.valid?(n(),a("i",ae)):(n(),a("i",le))])):u("",!0)]),i.store.member.forum_name&&i.store.validation.forumName.valid?(n(),a("span",de,[e[23]||(e[23]=m(" Will become: ",-1)),t("strong",null,c(i.store.getFormattedName()),1)])):i.store.member.forum_name&&i.store.member.forum_name.toLowerCase().startsWith("aod_")?(n(),a("span",me,' Do not include "AOD_" prefix ')):i.store.member.forum_name&&!i.store.validation.forumName.available&&!i.store.validation.loading?(n(),a("span",ue," This name is already taken ")):u("",!0)],2)]),t("div",ce,[t("div",fe,[e[25]||(e[25]=t("label",{for:"ingame_name"},[m("In-Game Handle "),t("span",{class:"text-muted"},"(optional)")],-1)),f(t("input",{type:"text",class:"form-control",id:"ingame_name","onUpdate:modelValue":e[6]||(e[6]=o=>i.store.member.ingame_name=o),disabled:i.store.inDemoMode,placeholder:"In-game name"},null,8,ve),[[w,i.store.member.ingame_name]])])]),t("div",be,[t("div",{class:p(["form-group",{"has-error":!i.store.member.rank&&i.submitted}])},[e[27]||(e[27]=t("label",{for:"rank"},"Rank",-1)),f(t("select",{id:"rank",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>i.store.member.rank=o)},[e[26]||(e[26]=t("option",{value:""},"Select rank...",-1)),(n(!0),a(_,null,g(l.ranks,(o,b)=>(n(),a("option",{key:b,value:b},c(o),9,pe))),128))],512),[[y,i.store.member.rank]])],2)])])])]),i.store.division.platoons.length?(n(),a("div",_e,[e[30]||(e[30]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-users"}),m(" Assignment ")],-1)),t("div",ge,[t("div",he,[t("div",ke,[t("div",we,[t("label",ye,c(i.store.division.locality.platoon),1),f(t("select",{id:"platoon",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>i.store.member.platoon=o),onChange:e[9]||(e[9]=(...o)=>d.onPlatoonChange&&d.onPlatoonChange(...o))},[t("option",xe,"Select "+c(i.store.division.locality.platoon.toLowerCase())+"...",1),(n(!0),a(_,null,g(i.store.division.platoons,o=>(n(),a("option",{key:o.id,value:o.id},c(o.name),9,De))),128))],544),[[y,i.store.member.platoon]])])]),t("div",Ie,[t("div",Me,[t("label",Ce,[m(c(i.store.division.locality.squad)+" ",1),e[29]||(e[29]=t("span",{class:"text-muted"},"(optional)",-1))]),f(t("select",{id:"squad",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=o=>i.store.member.squad=o),disabled:!d.selectedPlatoonSquads.length},[t("option",Ne,c(d.selectedPlatoonSquads.length?"Select "+i.store.division.locality.squad.toLowerCase()+"...":"No "+i.store.division.locality.squad.toLowerCase()+"s available"),1),(n(!0),a(_,null,g(d.selectedPlatoonSquads,o=>(n(),a("option",{key:o.id,value:o.id},c(o.name||"Squad #"+o.id),9,Se))),128))],8,Ue),[[y,i.store.member.squad]])])])])])])):u("",!0),i.store.division.threads.length?(n(),a("div",Te,[t("div",{class:"recruit-section-header",onClick:e[11]||(e[11]=o=>d.toggleSection("agreements"))},[e[31]||(e[31]=t("i",{class:"fa fa-file-contract"},null,-1)),e[32]||(e[32]=m(" Agreements ",-1)),t("span",Pe,[t("i",{class:p(["fa",i.sections.agreements?"fa-chevron-up":"fa-chevron-down"])},null,2)])]),f(t("div",Fe,[e[34]||(e[34]=t("p",{class:"text-muted"},"Confirm the recruit has read the following:",-1)),t("div",qe,[(n(!0),a(_,null,g(i.store.division.threads,(o,b)=>(n(),a("div",{key:b,class:"agreement-item"},[t("label",Ve,[f(t("input",{type:"checkbox","onUpdate:modelValue":h=>o.read=h},null,8,Ae),[[M,o.read]]),t("span",Re,[t("a",{href:d.getThreadUrl(o.id),target:"_blank"},c(o.name),9,Ee)]),o.comments?(n(),a("span",Le,c(o.comments),1)):u("",!0)]),t("button",{type:"button",class:"btn btn-xs btn-default agreement-copy",onClick:h=>d.copyThreadUrl(o.id),title:"Copy URL"},[...e[33]||(e[33]=[t("i",{class:"fa fa-clone"},null,-1)])],8,We)]))),128))])],512),[[I,i.sections.agreements]])])):u("",!0),i.store.division.tasks.length?(n(),a("div",Be,[t("div",{class:"recruit-section-header",onClick:e[12]||(e[12]=o=>d.toggleSection("tasks"))},[e[35]||(e[35]=t("i",{class:"fa fa-tasks"},null,-1)),e[36]||(e[36]=m(" In-Processing Tasks ",-1)),t("span",He,[t("i",{class:p(["fa",i.sections.tasks?"fa-chevron-up":"fa-chevron-down"])},null,2)])]),f(t("div",Oe,[e[37]||(e[37]=t("p",{class:"text-muted"},"Checklist for onboarding the new recruit:",-1)),t("div",je,[(n(!0),a(_,null,g(i.store.division.tasks,(o,b)=>(n(),a("label",{key:b,class:"task-item"},[f(t("input",{type:"checkbox","onUpdate:modelValue":h=>o.complete=h},null,8,ze),[[M,o.complete]]),t("span",{class:"task-description",innerHTML:d.linkifyUrls(o.description)},null,8,Ge)]))),128))])],512),[[I,i.sections.tasks]])])):u("",!0),i.store.errors.submission?(n(),a("div",Je,[e[38]||(e[38]=t("i",{class:"fa fa-exclamation-triangle"},null,-1)),m(" "+c(i.store.errors.submission),1)])):u("",!0),t("div",Ye,[t("a",{href:l.cancelUrl,class:"btn btn-default"},"Cancel",8,Ke),t("button",{type:"submit",class:"btn btn-success",disabled:!i.store.isFormValid()||i.store.submitting},[i.store.submitting?(n(),a("span",Xe,[...e[39]||(e[39]=[t("i",{class:"fa fa-spinner fa-spin"},null,-1),m(" Adding Recruit... ",-1)])])):(n(),a("span",Ze,[...e[40]||(e[40]=[m(" Add Recruit ",-1),t("i",{class:"fa fa-arrow-right"},null,-1)])]))],8,Qe)])],64))],32)}const es=D(F,[["render",$e]]),ss={props:["divisionSlug"],data(){return{store:s}},computed:{assignmentText(){const r=[];if(s.member.platoon){const e=s.division.platoons.find(l=>l.id===parseInt(s.member.platoon));if(e&&(r.push(e.name),s.member.squad)){const l=e.squads.find(v=>v.id===parseInt(s.member.squad));l&&l.name&&r.push(l.name)}}return r.join(" > ")},showHousekeeping(){return s.division.welcome_area||s.division.welcome_pm},welcomePostUrl(){return s.division.use_welcome_thread?`https://www.clanaod.net/forums/newreply.php?do=newreply&t=${s.division.welcome_area}`:`https://www.clanaod.net/forums/newthread.php?do=newthread&f=${s.division.welcome_area}`},forumPMUrl(){return`https://clanaod.net/forums/private.php?do=newpm&u=${s.member.id}`},formattedWelcomePM(){let r=s.division.welcome_pm||"";if(!r)return"";const e={name:s.member.forum_name||"",ingame_name:s.member.ingame_name||""};return Object.keys(e).forEach(l=>{const v=e[l]==null?"":String(e[l]),i=new RegExp("{{\\s*"+l+"\\s*}}","g");r=r.replace(i,v)}),r},divisionUrl(){return`${s.base_url}/divisions/${this.divisionSlug}`}},methods:{addAnother(){s.resetForNewRecruit()}}},ts={class:"recruit-confirmation"},is={class:"recruit-success"},os={class:"recruit-success-details"},rs={key:0,class:"demo-notice"},ns={key:1,class:"recruit-section"},as={class:"recruit-section-body"},ls={class:"housekeeping-actions"},ds={key:0,class:"housekeeping-action"},ms={class:"housekeeping-action-content"},us={key:0},cs={key:1},fs=["href"],vs={key:1,class:"housekeeping-action"},bs={class:"housekeeping-action-content"},ps={class:"welcome-pm-container"},_s={id:"welcome_pm",class:"form-control",rows:"4",readonly:""},gs={class:"welcome-pm-actions"},hs=["href"],ks={class:"recruit-form-actions"},ws=["href"];function ys(r,e,l,v,i,d){return n(),a("div",ts,[t("div",is,[e[3]||(e[3]=t("div",{class:"recruit-success-icon"},[t("i",{class:"fa fa-check-circle"})],-1)),e[4]||(e[4]=t("h3",null,"Recruit Added Successfully",-1)),t("p",os,[t("strong",null,c(i.store.getFormattedName()),1),e[2]||(e[2]=m(" has been added to the division. ",-1)),d.assignmentText?(n(),a(_,{key:0},[e[1]||(e[1]=t("br",null,null,-1)),m("Assigned to: "+c(d.assignmentText),1)],64)):u("",!0)])]),i.store.inDemoMode?(n(),a("div",rs,[...e[5]||(e[5]=[t("i",{class:"fa fa-info-circle"},null,-1),m(" Demo mode was active. No data was saved. ",-1)])])):u("",!0),d.showHousekeeping?(n(),a("div",ns,[e[15]||(e[15]=t("div",{class:"recruit-section-header"},[t("i",{class:"fa fa-clipboard-check"}),m(" Housekeeping ")],-1)),t("div",as,[e[14]||(e[14]=t("p",{class:"text-muted"},"Optional tasks to complete for your new recruit:",-1)),t("div",ls,[i.store.division.welcome_area?(n(),a("div",ds,[e[8]||(e[8]=t("div",{class:"housekeeping-action-icon"},[t("i",{class:"fa fa-mail-reply-all"})],-1)),t("div",ms,[e[7]||(e[7]=t("h5",null,"Create Welcome Post",-1)),i.store.division.use_welcome_thread?(n(),a("p",us," Create a post in the division's welcome thread to introduce your recruit. ")):(n(),a("p",cs," Create a thread in the division's welcome forum to introduce your recruit. ")),t("a",{href:d.welcomePostUrl,target:"_blank",class:"btn btn-sm btn-accent"},[e[6]||(e[6]=t("i",{class:"fa fa-external-link"},null,-1)),m(" "+c(i.store.division.use_welcome_thread?"Create Post":"Create Thread"),1)],8,fs)])])):u("",!0),i.store.division.welcome_pm?(n(),a("div",vs,[e[13]||(e[13]=t("div",{class:"housekeeping-action-icon"},[t("i",{class:"fa fa-envelope"})],-1)),t("div",bs,[e[11]||(e[11]=t("h5",null,"Send Welcome DM",-1)),e[12]||(e[12]=t("p",null,"Send a welcome message to your recruit via forum PM or Discord.",-1)),t("div",ps,[t("textarea",_s,c(d.formattedWelcomePM),1),t("div",gs,[e[10]||(e[10]=t("button",{type:"button",class:"btn btn-sm btn-success copy-to-clipboard","data-clipboard-target":"#welcome_pm"},[t("i",{class:"fa fa-clone"}),m(" Copy ")],-1)),t("a",{href:d.forumPMUrl,target:"_blank",class:"btn btn-sm btn-accent"},[...e[9]||(e[9]=[t("i",{class:"fa fa-external-link"},null,-1),m(" Send Forum PM ",-1)])],8,hs)])])])])):u("",!0)])])])):u("",!0),t("div",ks,[t("button",{type:"button",class:"btn btn-default",onClick:e[0]||(e[0]=(...o)=>d.addAnother&&d.addAnother(...o))},[...e[16]||(e[16]=[t("i",{class:"fa fa-plus"},null,-1),m(" Add Another Recruit ",-1)])]),t("a",{href:d.divisionUrl,class:"btn btn-success"},[...e[17]||(e[17]=[t("i",{class:"fa fa-arrow-left"},null,-1),m(" Back to Division ",-1)])],8,ws)])])}const xs=D(ss,[["render",ys]]),Ds={components:{StepOne:es,StepConfirmation:xs},props:["division","ranks","recruiterId"],data(){return{store:s}},computed:{cancelUrl(){return`${s.base_url}/divisions/${this.division}`}}},Is={class:"recruit-wizard"};function Ms(r,e,l,v,i,d){const o=U("step-one"),b=U("step-confirmation");return n(),a("div",Is,[i.store.currentStep==="form"?(n(),C(o,{key:0,ranks:l.ranks,"recruiter-id":l.recruiterId,"division-slug":l.division,"cancel-url":d.cancelUrl},null,8,["ranks","recruiter-id","division-slug","cancel-url"])):i.store.currentStep==="confirmation"?(n(),C(b,{key:1,"division-slug":l.division},null,8,["division-slug"])):u("",!0)])}const Cs=D(Ds,[["render",Ms]]),k=document.getElementById("recruiting-container");k&&P(Cs,{division:k.getAttribute("data-division"),recruiterId:k.getAttribute("data-recruiter-id"),ranks:JSON.parse(k.getAttribute("data-ranks")||"{}")}).mount("#recruiting-container");
