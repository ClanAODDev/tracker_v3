(()=>{var t;t=jQuery,{initUnassigned:function(){t((function(){t(".unassigned").draggable({revert:!0}),t(".platoon").droppable({hoverClass:"panel-c-success",drop:function(a,e){var n=t(this),o=window.Laravel.appPath,s=e.draggable.attr("data-member-id"),i=n.attr("data-platoon-id");t.ajax({type:"POST",url:o+"/members/"+s+"/assign-platoon",data:{platoon_id:i,_token:t("meta[name=csrf-token]").attr("content")},success:function(a){toastr.success("Member was assigned to platoon #"+i),t(e.draggable).remove(),t(".unassigned").length<1&&t(".unassigned-container").slideUp()}})}})}))},setup:function(){this.initAutocomplete(),this.initSetup(),this.initUnassigned()},initSetup:function(){var a=t(".promotions-chart");a.length&&new Chart(a,{type:"doughnut",data:{datasets:[{data:a.data("values"),borderWidth:0,backgroundColor:["#949ba2","#0f83c9","#5fbb60","#6da21f","#56c0e0","#db524b"]}],labels:a.data("labels")},options:{legend:{position:"bottom",labels:{boxWidth:5,fontColor:"#949ba2"},label:{fullWidth:!0}}}})},initAutocomplete:function(){t("#leader").bootcomplete({url:window.Laravel.appPath+"/search-member/",minLength:3,idField:!0,method:"POST",dataParams:{_token:t("meta[name=csrf-token]").attr("content")}})}}.setup()})();