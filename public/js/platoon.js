!function(t){function e(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,e,a){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){var a=a||{};!function(t){a={setup:function(){this.handleMembers(),this.handleSquadMembers(),this.handleForumActivityChart(),this.handleTSActivityChart(),this.handleVoiceActivityChart(),this.initAutocomplete()},handleForumActivityChart:function(){var e=t(".forum-activity-chart");if(e.length){new Chart(e,{type:"doughnut",data:{datasets:[{data:e.data("values"),backgroundColor:e.data("colors"),borderWidth:0}],labels:e.data("labels")},options:{rotation:1*Math.PI,circumference:1*Math.PI,legend:{position:"bottom",labels:{boxWidth:5,fontColor:"#949ba2"},label:{fullWidth:!1}}}})}},handleVoiceActivityChart:function(){var e=t(".voice-activity-chart");if(e.length){new Chart(e,{type:"doughnut",data:{datasets:[{data:e.data("values"),backgroundColor:e.data("colors"),borderWidth:0}],labels:e.data("labels")},options:{rotation:1*Math.PI,circumference:1*Math.PI,legend:{position:"bottom",labels:{boxWidth:5,fontColor:"#949ba2"},label:{fullWidth:!1}}}})}},handleSquadMembers:function(){t(".sortable-squad").sortable({revert:"invalid"}),t(".draggable").draggable({connectToSortable:"ul",revert:"invalid",scroll:!0,scrollSensitivity:100});var e,a,r,n;t(".mod-plt .sortable").sortable({connectWith:"ul",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,revert:"invalid",receive:function(o,i){e=t(i.item).attr("data-member-id"),a=t(this).attr("data-squad-id"),r=t(i.sender).find("li").length,n=t(this).find("li").length,void 0===a?(toastr.error("You cannot move members to the unassigned list"),t(".mod-plt .sortable").sortable("cancel")):(t(".genpop").find("li").length<1&&t(".genpop").fadeOut(),t(i.sender).parent().find(".count").text(r),t(this).parent().find(".count").text(n).effect("highlight"),t.ajax({type:"POST",url:window.Laravel.appPath+"/members/assign-squad",data:{member_id:e,squad_id:a,_token:t("meta[name=csrf-token]").attr("content")},dataType:"json",success:function(){toastr.success("Member reassigned!")},error:function(){toastr.error("Something bad happened...")}}))}})},initAutocomplete:function(){t("#leader").bootcomplete({url:window.Laravel.appPath+"/search-member/",minLength:3,idField:!0,method:"POST",dataParams:{_token:t("meta[name=csrf-token]").attr("content")}})},handleMembers:function(){function e(e,a){t(e).css("color",a.visible()?"white":"#949ba2")}function a(){t("#is_tba").is(":checked")?t("#leader_id, #leader").prop("disabled",!0).val(""):t("#leader_id, #leader").prop("disabled",!1)}var r=(parseInt(t(".platoon-number").text()),new Date);r.getDate(),r.getMonth()+1,r.getFullYear(),new Array;if(t(".members-table").length){var n=t("table.members-table").DataTable({initComplete:function(e,a){setTimeout(function(){t(".ld-loading").removeClass("ld-loading")},2e3)},autoWidth:!0,bInfo:!1,oLanguage:{sLengthMenu:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{targets:"no-search",searchable:!1},{targets:"col-hidden",visible:!1},{iDataSort:0,aTargets:[3]},{iDataSort:10,aTargets:[5]}],select:{style:"os",selector:"td:first-child"},stateSave:!0,paging:!1});t("a.toggle-vis").each(function(){var a=n.column(t(this).data("column"));e(this,a)}),t("a.toggle-vis").on("click",function(a){a.preventDefault();var r=n.column(t(this).data("column"));r.visible(!r.visible()),e(this,r)}),t(".dataTables_filter input").appendTo("#playerFilter").removeClass("input-sm"),t("#playerFilter input").attr({placeholder:"Search Players","class":"form-control"}),t(".dataTables_filter label").remove(),t(".no-sort").removeClass("sorting"),n.on("select",function(e,a,r,o){var i=n.rows(t(".selected")).data().toArray().map(function(t){return t[11]});i.length>=2&&(t("#selected-data").show(),t("#selected-data .status-text").text("With selected ("+i.length+")"),t("#pm-member-data").val(i))})}t("#is_tba").click(function(){a()}),a()}}}(jQuery),a.setup()}]);