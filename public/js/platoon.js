!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,t,a){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t){var a=a||{};!function(e){a={setup:function(){this.handleMembers(),this.handleSquadMembers(),this.handleForumActivityChart(),this.handleVoiceActivityChart(),this.initAutocomplete()},handleForumActivityChart:function(){var t=e(".forum-activity-chart");if(t.length){new Chart(t,{type:"doughnut",data:{datasets:[{data:t.data("values"),backgroundColor:t.data("colors"),borderWidth:0}],labels:t.data("labels")},options:{rotation:1*Math.PI,circumference:1*Math.PI,legend:{position:"bottom",labels:{boxWidth:5,fontColor:"#949ba2"},label:{fullWidth:!1}}}})}},handleVoiceActivityChart:function(){var t=e(".voice-activity-chart");if(t.length){new Chart(t,{type:"doughnut",data:{datasets:[{data:t.data("values"),backgroundColor:t.data("colors"),borderWidth:0}],labels:t.data("labels")},options:{rotation:1*Math.PI,circumference:1*Math.PI,legend:{position:"bottom",labels:{boxWidth:5,fontColor:"#949ba2"},label:{fullWidth:!1}}}})}},handleSquadMembers:function(){e(".sortable-squad").sortable({revert:"invalid"}),e(".draggable").draggable({connectToSortable:"ul",revert:"invalid",scroll:!0,scrollSensitivity:100});var t,a,r,n;e(".mod-plt .sortable").sortable({connectWith:"ul",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,revert:"invalid",receive:function(o,i){t=e(i.item).attr("data-member-id"),a=e(this).attr("data-squad-id"),r=e(i.sender).find("li").length,n=e(this).find("li").length,void 0===a?(toastr.error("You cannot move members to the unassigned list"),e(".mod-plt .sortable").sortable("cancel")):(e(".genpop").find("li").length<1&&e(".genpop").fadeOut(),e(i.sender).parent().find(".count").text(r),e(this).parent().find(".count").text(n).effect("highlight"),e.ajax({type:"POST",url:window.Laravel.appPath+"/members/assign-squad",data:{member_id:t,squad_id:a,_token:e("meta[name=csrf-token]").attr("content")},dataType:"json",success:function(){toastr.success("Member reassigned!")},error:function(){toastr.error("Something bad happened...")}}))}})},initAutocomplete:function(){e("#leader").bootcomplete({url:window.Laravel.appPath+"/search-member/",minLength:3,idField:!0,method:"POST",dataParams:{_token:e("meta[name=csrf-token]").attr("content")}})},handleMembers:function(){function t(t,a){e(t).css("color",a.visible()?"white":"#949ba2")}function a(){e("#is_tba").is(":checked")?e("#leader_id, #leader").prop("disabled",!0).val(""):e("#leader_id, #leader").prop("disabled",!1)}var r=(parseInt(e(".platoon-number").text()),new Date);r.getDate(),r.getMonth()+1,r.getFullYear(),new Array;if(e(".members-table").length){var n=e("table.members-table").DataTable({initComplete:function(t,a){setTimeout(function(){e(".ld-loading").removeClass("ld-loading")},2e3)},autoWidth:!0,bInfo:!1,oLanguage:{sLengthMenu:""},columnDefs:[{orderable:!1,className:"select-checkbox",targets:0},{targets:"no-search",searchable:!1},{targets:"col-hidden",visible:!1},{iDataSort:0,aTargets:[3]},{iDataSort:10,aTargets:[5]}],select:{style:"os",selector:"td:first-child"},stateSave:!0,paging:!1});e("a.toggle-vis").each(function(){var a=n.column(e(this).data("column"));t(this,a)}),e("a.toggle-vis").on("click",function(a){a.preventDefault();var r=n.column(e(this).data("column"));r.visible(!r.visible()),t(this,r)}),e(".dataTables_filter input").appendTo("#playerFilter").removeClass("input-sm"),e("#playerFilter input").attr({placeholder:"Search Players","class":"form-control"}),e(".dataTables_filter label").remove(),e(".no-sort").removeClass("sorting"),n.on("select",function(t,a,r,o){var i=n.rows(e(".selected")).data().toArray().map(function(e){return e[11]});i.length>=2&&(e("#selected-data").show(),e("#selected-data .status-text").text("With selected ("+i.length+")"),e("#pm-member-data").val(i))})}e("#is_tba").click(function(){a()}),a()}}}(jQuery),a.setup()}]);